<!DOCTYPE html>
<html>
<head>
    <title>Doctor Finder</title>
</head>
<body>

<h2>Doctor Recommendation</h2>

<input id="symptoms" placeholder="Enter symptoms"><br><br>
<input id="address" placeholder="Enter address"><br><br>

<button onclick="send()">Find Doctor</button>

<h3>Doctors Found:</h3>
<div id="output"></div>

<script>
function send() {
    document.getElementById("output").innerHTML = "Loading...";

    fetch("https://doctor-finding.onrender.com/predict", {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({
            symptoms: document.getElementById("symptoms").value,
            address: document.getElementById("address").value
        })
    })
    .then(res => res.json())
    .then(data => {
        let doctors = data.doctors;
        let html = "";

        if (!doctors || doctors.length === 0) {
            html = "No doctors found.";
        } else {
            doctors.forEach((doc, index) => {
                html += `
                    <div style="border:1px solid #ccc; padding:10px; margin:10px 0;">
                        <b>${index + 1}. ${doc.doctor_name}</b><br>
                        ‚è∞ ${doc.opening_time} - ${doc.closing_time}<br>
                        üìû ${doc.phone_number}
                    </div>
                `;
            });
        }

        document.getElementById("output").innerHTML = html;
    })
    .catch(err => {
        document.getElementById("output").innerText = "Error: " + err;
    });
}
</script>

</body>
</html>
